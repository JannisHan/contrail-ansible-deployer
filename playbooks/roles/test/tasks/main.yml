---
- debug:
     msg: "{{ hostvars[inventory_hostname].ansible_all_ipv4_addresses }}"

- set_fact:
    controller_list: "{{ contrail_configuration.CONTROLLER_NODES.split(',') }}"

- debug:
     msg: "{{ controller_list }}"

- set_fact:
    listen_ip: "{{ item[0] }}"
  when: item[0] == item[1]
  with_nested:
    - "{{ hostvars[inventory_hostname].ansible_all_ipv4_addresses }}"
    - "{{ controller_list }}"

- debug:
    msg: "{{ listen_ip }}"
